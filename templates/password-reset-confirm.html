{% extends 'base.html' %}
{% load static %}
{% load widget_tweaks %}
{% block styles %}
<link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet"> <!-- for icon documentation: https://materializecss.com/icons.html-->
<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Pacifico">
{% endblock %}
{% block content %}


<style>
/* End Fonts */
/* Start Global rules */

/* End Global rules */

/* Start body rules */
body {
    background-image: linear-gradient(-225deg, #E3FDF5 0%, #FFE6FA 100%);
    background-image: linear-gradient(to top, #a8edea 0%, #fed6e3 100%);
    background-attachment: fixed;
    background-repeat: no-repeat;

    font-family: 'Vibur', cursive;
/*   the main font */
    font-family: 'Abel', sans-serif;
    opacity: .95;
/* background-image: linear-gradient(to top, #d9afd9 0%, #97d9e1 100%); */
}



/* |||||||||||||||||||||||||||||||||||||||||||||*/
/* //////////////////////////////////////////// */




/* End body rules */

/* Start form  attributes */
.login {
    width: 450px;
    min-height: 500px;
    height: auto;
    border-radius: 5px;
    margin: 2% auto;
    box-shadow: 0 9px 50px hsla(20, 67%, 75%, 0.31);
    padding: 2%;
    background-image: linear-gradient(-225deg, #E3FDF5 50%, #FFE6FA 50%);
}

@media (max-width: 991px){
.login {

width: 100% !important;
}
}
/* form Container */
form .con {
    display: -webkit-flex;
    display: flex;
  
    -webkit-justify-content: space-around;
    justify-content: space-around;
  
    -webkit-flex-wrap: wrap;
    flex-wrap: wrap;
  
      margin: 0 auto;
}

/* the header form form */

/*  A welcome message or an explanation of the login form */



/* //////////////////////////////////////////// */
/* //////////////////////////////////////////// */


.input-item {
    background: #fff;
    color: #333;
    padding: 14.5px 0px 15px 9px;
    border-radius: 5px 0px 0px 5px;
   
    
    
}





/* Show/hide password Font Icon */

/* inputs form  */
input[class="form-input"]{
    width: 250px;
    height: 50px;
  
    margin-top: 2%;
    padding: 15px;
    
    font-size: 16px;
    font-family: 'Abel', sans-serif;
    color: #5E6472;
  
    outline: none;
    border: none;
  
    border-radius: 0px 5px 5px 0px;
    transition: 0.2s linear;
   
    
}
input[id="txt-input"] {width: 250px;}
/* focus  */
input:focus {
    transform: translateX(-2px);
    border-radius: 5px;
}

/* //////////////////////////////////////////// */
/* //////////////////////////////////////////// */

/* input[type="text"] {min-width: 250px;} */
/* buttons  */
.button1 {
    display: inline-block;
    color: #252537;
  
    width: 280px;
    height: 50px;
  
    padding: 0 20px;
    background: #fff;
    border-radius: 5px;
    
    outline: none;
    border: none;
  
    cursor: pointer;
    text-align: center;
    transition: all 0.2s linear;
    
    margin: 7% auto;
    letter-spacing: 0.05em;
    box-shadow: 0px 2px 15px rgba(0, 0, 0, 0.3);
}
/* Submits */
.submits {
    width: 48%;
    display: inline-block;
    float: left;
    
}

.other{
    width: 100%;
    text-align: center;
}



/*       Forgot Password button FAF3DD  */

/*     Sign Up button  */
.sign-up {
    background: #B8F2E6;
    width: 33%;
    margin-top:7%;
    margin-bottom: 7%;
    padding: 4%;
    border-radius: 5px;
    box-shadow: 0px 2px 15px rgba(0, 0, 0, 0.3);
    margin-left: 3%;
}




/* buttons hover */
.other a:hover {
    transform: translatey(3px);
    box-shadow: none;
}

/* buttons hover Animation */
button:hover {
    animation: ani9 0.4s ease-in-out infinite alternate;
}

  	
</style>

<main  style="margin-top:109px">
    <div class="overlay">
        <!-- LOGN IN FORM by Omar Dsoky -->
        <form class="login" action =""  method="POST"  enctype="multipart/form-data"  novalidate>
            {% csrf_token %}
            <div class="card" style="width:100%;background: transparent;box-shadow: 0px 2px 15px rgba(0, 0, 0, 0.3); margin-top:9.3%">
               
                <div class="card-body">
                    {% if validlink %}
                        <p class="login-card-description text-success">Réinitialisation du mot de passe </p>
               
                        <form method="POST" action =""  enctype="multipart/form-data"  novalidate>
                            {% csrf_token %}
                            {% for field in form %}
                            <div class="form-group">
                                {{ field.label_tag }}
                                 {% if form.is_bound %}
                                 {% if field.errors %}
                                  {% render_field field class="form-control is-invalid" %}
                                  {% for error in field.errors %}
                                   <div class="invalid-feedback">
                                       {{ error }}
                                    </div>
                                    {% endfor %}
                                    {% else %}
                                    {% render_field field class="form-control is-valid" %}
                                    {% endif %}
                                    {% else %}
                                     {% render_field field class="form-control" %}
                                      {% endif %}
                                      {% if field.help_text %}
                                      <small class="form-text text-muted">
                                           {{ field.help_text }}
                                        </small>
                                        {% endif %}
                                    </div>
                                    {% endfor %}
                                    <div class="text-center">
                                        <button type="submit" class="btn btn-block btn-success">Envoyer</button>
                                      </div> 
                                      </form>   
                                      {% else %}  
                                      <p class="login-card-description text-justify text-warning">Échec lors de la mise à jour du mot de passe </p>
        
                                      <p class="alert alert-warning text-justify" role="alert">
                                        Le lien de mise à jour du mot de passe n'était pas valide, probablement en raison de sa précédente utilisation.
                                         Veuillez renouveler votre demande de mise à jour de mot de passe.
                                    </p> 
        
                                    {% endif %}
        </div> 
    
</main>

{% endblock %}